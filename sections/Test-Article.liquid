{% schema %}
{
  "name": "Alphabetical Blog Titles",
  "settings": [
    {
      "type": "blog",
      "id": "blog",
      "label": "Select Blog",
      "info": "Choose the blog to display articles from alphabetically."
    }
  ],
  "blocks": [
    {
      "type": "letter_block",
      "name": "Letter Block",
      "settings": [
        {
          "type": "text",
          "id": "letter",
          "label": "Enter Letter",
          "default": "A"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Test"
    }
  ]
}
{% endschema %}

<style>
  .blog-titles-lexicon .letter-group {
    margin-bottom: 20px;
  }
  .blog-titles-lexicon h2 {
    margin-bottom: 10px;
  }
  .blog-titles-lexicon ul {
    list-style: none;
    padding: 0;
    margin: 0;
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
  }
  .blog-titles-lexicon li {
    background-color: #fff;
    border: 1px solid #ccc;
    padding: 5px 15px;
    border-radius: 4px;
    transition: background-color 0.3s;
  }
  .blog-titles-lexicon li:hover {
    background-color: #f8f8f8;
  }
  .blog-titles-lexicon li:nth-child(even) {
    background-color: #f2f2f2;
  }
</style>

<div class="blog-titles-lexicon">
  {% if section.blocks.size > 0 %}
    {% assign selected_blog_handle = section.settings.blog %}
    {% assign articles = blogs[selected_blog_handle].articles %}
    {% for block in section.blocks %}
      {% assign letter = block.settings.letter | upcase %}
      <div class="letter-group">
        <h2>{{ letter }}</h2>
        <ul>
          {% for article in articles %}
            {% assign first_letter = article.title | slice: 0, 1 | upcase %}
            {% if first_letter == letter %}
              <li>{{ article.title | link_to: article.url }}</li>
            {% endif %}
          {% endfor %}
        </ul>
      </div>
    {% endfor %}
  {% endif %}
</div>